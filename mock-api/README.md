# Mock Utility API Server

실제 전기/수도/가스 API를 대체하는 Mock 서버입니다.

## 설치 및 실행

### Python 환경 설정
```bash
cd mock-api
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 서버 실행
```bash
python app.py
```

서버는 `http://localhost:9000`에서 실행됩니다.

## API 엔드포인트

### 사용량 조회
```
POST /api/usage
Content-Type: application/json

{
  "customerId": "user123",
  "utilityType": "ELECTRICITY",  // ELECTRICITY, WATER, GAS
  "startDate": "2025-01-27T00:00:00",
  "endDate": "2025-01-27T23:59:59"
}
```

### 헬스체크
```
GET /health
```

## 데이터 생성 로직

### 전기 (ELECTRICITY)
- 단위: kWh
- 시간대별 패턴:
  - 06:00-09:00: 1.2-2.5 kWh (아침 준비)
  - 09:00-18:00: 0.3-0.8 kWh (외출 중 대기전력)
  - 18:00-23:00: 1.5-3.0 kWh (저녁 활동)
  - 23:00-06:00: 0.2-0.5 kWh (수면)
- 계절 보정:
  - 여름(6-8월): 1.5-2.0배 (에어컨)
  - 겨울(12-2월): 1.3-1.7배 (난방)
- 요금: 누진제 적용 (93.3-280.6원/kWh)

### 수도 (WATER)
- 단위: m³
- 시간대별 패턴:
  - 06:00-09:00: 0.08-0.15 m³ (세면, 샤워)
  - 09:00-18:00: 0.01-0.03 m³ (최소 사용)
  - 19:00-23:00: 0.10-0.20 m³ (요리, 설거지, 샤워)
  - 23:00-06:00: 0.005-0.015 m³ (야간)
- 주말 보정: 1.2-1.5배
- 요금: 약 580원/m³

### 가스 (GAS)
- 단위: m³
- 시간대별 패턴:
  - 06:00-09:00: 0.15-0.30 m³ (아침 식사)
  - 18:00-22:00: 0.20-0.40 m³ (저녁 식사)
  - 기타: 0.05-0.10 m³ (최소 사용)
- 계절 보정:
  - 겨울(11-3월): 2.0-3.5배 (난방)
  - 봄/가을: 0.8-1.2배
  - 여름: 0.5-0.8배
- 요금: 약 650원/m³

## 특징

1. **결정적 난수**: 고객 ID 기반 시드로 동일 요청에 동일 결과 반환
2. **현실적 패턴**: 시간대, 요일, 계절에 따른 실제 사용 패턴 반영
3. **요금 계산**: 실제 요금제 기반 계산